const accordionContent = document.querySelectorAll('.faq__accordion-content');

accordionContent.forEach((item, index) => {
  const header = item.querySelector('.faq__accordion-header');

  header.addEventListener('click', () => {
    item.classList.toggle('faq__accordion-content--active');

    const description = item.querySelector('.faq__accordion-description');

    if (item.classList.contains('faq__accordion-content--active')) {
      description.style.height = `${description.scrollHeight}px`;
      // eslint-disable-next-line max-len
      item.querySelector('.faq__accordion-svg').classList.add('faq__accordion-svg--active');
    } else {
      description.style.height = '0px';
      // eslint-disable-next-line max-len
      item.querySelector('.faq__accordion-svg').classList.remove('faq__accordion-svg--active');
    }

    removeOpen(index);
  });
});

function removeOpen(ind) {
  accordionContent.forEach((it, i) => {
    if (ind !== i) {
      it.classList.remove('faq__accordion-content--active');

      const desc = it.querySelector('.faq__accordion-description');

      desc.style.height = '0px';
      // eslint-disable-next-line max-len
      it.querySelector('.faq__accordion-svg').classList.remove('faq__accordion-svg--active');
    }
  });
}

const cardNumberPayFirstInput = document.getElementById('cardNumberPayFirst');
const cardNumberPayLastInput = document.getElementById('cardNumberPayFourth');
const cardNumberPayIndicator = document.querySelector('.form__card-indicator');

const cardNumberPayAllInputs = document.querySelectorAll('.form__input--card');
const cardNumberPayAllLabel = document.querySelector('.form__label--pay');

cardNumberPayFirstInput.addEventListener('focusout', () => {
  if (cardNumberPayFirstInput.value[0] === '3') {
    // eslint-disable-next-line max-len
    cardNumberPayIndicator.classList.add('form__card-indicator--american-express');

    cardNumberPayIndicator.classList.remove('form__card-indicator--visa');
    cardNumberPayIndicator.classList.remove('form__card-indicator--mastercard');
  }

  if (cardNumberPayFirstInput.value[0] === '4') {
    cardNumberPayIndicator.classList.add('form__card-indicator--visa');

    // eslint-disable-next-line max-len
    cardNumberPayIndicator.classList.remove('form__card-indicator--american-express');
    cardNumberPayIndicator.classList.remove('form__card-indicator--mastercard');
  }

  if (cardNumberPayFirstInput.value[0] === '5') {
    cardNumberPayIndicator.classList.add('form__card-indicator--mastercard');

    // eslint-disable-next-line max-len
    cardNumberPayIndicator.classList.remove('form__card-indicator--american-express');
    cardNumberPayIndicator.classList.remove('form__card-indicator--visa');
  }
});

cardNumberPayLastInput.addEventListener('focusout', () => {
  cardNumberPayAllLabel.classList.remove('form__label--active');
});

for (let i = 0; i < cardNumberPayAllInputs.length; i++) {
  cardNumberPayAllInputs[i].addEventListener('input', function() {
    if (this.value.length === 4) {
      const cardNumberPayNextInput = this.nextElementSibling;

      if (cardNumberPayNextInput !== null) {
        cardNumberPayNextInput.focus();
        cardNumberPayAllLabel.classList.add('form__label--active');
      }
    }
  });
}

const dropdownInputs = document.querySelectorAll('.dropdown__input');
const priceValue = document.querySelector('.buy__tab-quantity-price-value--1');

window.onload = (event) => {
  for (let i = 0; i < dropdownInputs.length; i++) {
    dropdownInputs[i].value = '';
  }
};

// eslint-disable-next-line max-len
document.querySelectorAll('.dropdown__container').forEach(function(dropdownWrapper) {
  const dropdownButton = dropdownWrapper.querySelector('.dropdown__button');
  const dropdownList = dropdownWrapper.querySelector('.dropdown__list');
  // eslint-disable-next-line max-len
  const dropdownListItems = dropdownList.querySelectorAll('.dropdown__list-item');
  // eslint-disable-next-line max-len
  const dropdownInput = dropdownWrapper.querySelector('.dropdown__input--hidden');

  dropdownButton.addEventListener('click', () => {
    dropdownList.classList.toggle('dropdown__list--active');
  });

  dropdownListItems.forEach(function(listItem) {
    listItem.addEventListener('click', function(e) {
      e.stopPropagation();
      dropdownButton.innerText = this.innerText;
      dropdownButton.style.color = '#fff';
      dropdownInput.value = this.dataset.value;
      priceValue.innerHTML = `${1200 * Number(this.dataset.value)}$`;
      dropdownList.classList.remove('dropdown__list--active');
    });
  });

  document.addEventListener('click', (e) => {
    if (e.target !== dropdownButton) {
      dropdownList.classList.remove('dropdown__list--active');
    }
  });

  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' || e.key === 'Tab') {
      dropdownList.classList.remove('dropdown__list--active');
    }
  });
});

const cardExpirartionDateInput = document.getElementById('expirationDatePay');

cardExpirartionDateInput.addEventListener('input', function() {
  if (this.value.length === 2 && !this.value.includes('/')) {
    this.value = `${this.value}/`;
  }
});

const textArea = document.querySelector('.form__textarea');
// eslint-disable-next-line max-len
const textAreaLabel = document.querySelector('.form__textarea-label');

textArea.addEventListener('focusin', () => {
  textAreaLabel.classList.add('form__textarea-label--active');
});

textArea.addEventListener('focusout', () => {
  textAreaLabel.classList.remove('form__textarea-label--active');
});

// eslint-disable-next-line max-len
document.querySelectorAll('.form__control').forEach(function(formWrapper) {
  const input = formWrapper.querySelector('.form__input');
  const label = formWrapper.querySelector('.form__label');

  if (input) {
    input.addEventListener('focusin', () => {
      label.classList.add('form__label--active');
    });

    input.addEventListener('focusout', () => {
      label.classList.remove('form__label--active');
    });
  };
});

const form = document.getElementById('formContact');
const formBuy = document.getElementById('formBuy');
const formPay = document.getElementById('formPay');

const tabs = document.querySelectorAll('.buy__tab');
const buyTabContentFirst = document.querySelector('.buy__tab-content--1');
const buyTabContentSecond = document.querySelector('.buy__tab-content--2');
const buyTabContentThird = document.querySelector('.buy__tab-content--3');

// eslint-disable-next-line max-len
const formContainerBuy = document.querySelector('.form__control-container--buy');
// eslint-disable-next-line max-len
const quantityContainer = document.querySelector('.buy__tab-content-quantity-container');
const finishButton = document.querySelector('.buy__tab-button--3');

form.addEventListener('submit', (event) => {
  event.preventDefault();

  form.reset();
});

formBuy.addEventListener('submit', (event) => {
  event.preventDefault();

  tabs[1].classList.add('buy__tab--active');
  formContainerBuy.style.display = 'none';
  buyTabContentSecond.classList.add('buy__tab-content--2-active');
  // eslint-disable-next-line max-len
  quantityContainer.classList.add('buy__tab-content-quantity-container--second-tab');
  buyTabContentFirst.classList.add('buy__tab-content--1-for-pay');
  formBuy.classList.add('buy__tab-content-form--1-second-tab');

  formBuy.reset();
});

formPay.addEventListener('submit', (event) => {
  event.preventDefault();

  buyTabContentSecond.classList.remove('buy__tab-content--2-active');
  buyTabContentFirst.classList.remove('buy__tab-content--1-for-pay');
  formBuy.classList.remove('buy__tab-content-form--1-second-tab');
  buyTabContentFirst.style.display = 'none';
  tabs[2].classList.add('buy__tab--active');
  buyTabContentThird.classList.add('buy__tab-content--3-active');

  formPay.reset();
});

finishButton.addEventListener('click', () => {
  tabs[1].classList.remove('buy__tab--active');
  tabs[2].classList.remove('buy__tab--active');

  formContainerBuy.style.display = 'grid';
  buyTabContentFirst.style.display = 'block';
  buyTabContentThird.classList.remove('buy__tab-content--3-active');

  formBuy.reset();
  formPay.reset();
});

import './sliderHeader.js';
import './sliderAbout.js';

import './video.js';
import './techButtons.js';
import './preventPageScroll.js';
import './modal.js';
import './accordion.js';
import './dropdown.js';
import './cardSystemSelect.js';
import './expirationDate.js';

import './formValidation.js';
import './formInputshover.js';
const accordionContent = document.querySelectorAll('.faq__accordion-content');

accordionContent.forEach((item, index) => {
  const header = item.querySelector('.faq__accordion-header');

  header.addEventListener('click', () => {
    item.classList.toggle('faq__accordion-content--active');

    const description = item.querySelector('.faq__accordion-description');

    if (item.classList.contains('faq__accordion-content--active')) {
      description.style.height = `${description.scrollHeight}px`;
      // eslint-disable-next-line max-len
      item.querySelector('.faq__accordion-svg').classList.add('faq__accordion-svg--active');
    } else {
      description.style.height = '0px';
      // eslint-disable-next-line max-len
      item.querySelector('.faq__accordion-svg').classList.remove('faq__accordion-svg--active');
    }

    removeOpen(index);
  });
});

function removeOpen(ind) {
  accordionContent.forEach((it, i) => {
    if (ind !== i) {
      it.classList.remove('faq__accordion-content--active');

      const desc = it.querySelector('.faq__accordion-description');

      desc.style.height = '0px';
      // eslint-disable-next-line max-len
      it.querySelector('.faq__accordion-svg').classList.remove('faq__accordion-svg--active');
    }
  });
}

const cardNumberPayFirstInput = document.getElementById('cardNumberPayFirst');
const cardNumberPayLastInput = document.getElementById('cardNumberPayFourth');
const cardNumberPayIndicator = document.querySelector('.form__card-indicator');

const cardNumberPayAllInputs = document.querySelectorAll('.form__input--card');
const cardNumberPayAllLabel = document.querySelector('.form__label--pay');

cardNumberPayFirstInput.addEventListener('focusout', () => {
  if (cardNumberPayFirstInput.value[0] === '3') {
    // eslint-disable-next-line max-len
    cardNumberPayIndicator.classList.add('form__card-indicator--american-express');

    cardNumberPayIndicator.classList.remove('form__card-indicator--visa');
    cardNumberPayIndicator.classList.remove('form__card-indicator--mastercard');
  }

  if (cardNumberPayFirstInput.value[0] === '4') {
    cardNumberPayIndicator.classList.add('form__card-indicator--visa');

    // eslint-disable-next-line max-len
    cardNumberPayIndicator.classList.remove('form__card-indicator--american-express');
    cardNumberPayIndicator.classList.remove('form__card-indicator--mastercard');
  }

  if (cardNumberPayFirstInput.value[0] === '5') {
    cardNumberPayIndicator.classList.add('form__card-indicator--mastercard');

    // eslint-disable-next-line max-len
    cardNumberPayIndicator.classList.remove('form__card-indicator--american-express');
    cardNumberPayIndicator.classList.remove('form__card-indicator--visa');
  }
});

cardNumberPayLastInput.addEventListener('focusout', () => {
  cardNumberPayAllLabel.classList.remove('form__label--active');
});

for (let i = 0; i < cardNumberPayAllInputs.length; i++) {
  cardNumberPayAllInputs[i].addEventListener('input', function() {
    if (this.value.length === 4) {
      const cardNumberPayNextInput = this.nextElementSibling;

      if (cardNumberPayNextInput !== null) {
        cardNumberPayNextInput.focus();
        cardNumberPayAllLabel.classList.add('form__label--active');
      }
    }
  });
}

const dropdownInputs = document.querySelectorAll('.dropdown__input');
const priceValue = document.querySelector('.buy__tab-quantity-price-value--1');

window.onload = (event) => {
  for (let i = 0; i < dropdownInputs.length; i++) {
    dropdownInputs[i].value = '';
  }
};

// eslint-disable-next-line max-len
document.querySelectorAll('.dropdown__container').forEach(function(dropdownWrapper) {
  const dropdownButton = dropdownWrapper.querySelector('.dropdown__button');
  const dropdownList = dropdownWrapper.querySelector('.dropdown__list');
  // eslint-disable-next-line max-len
  const dropdownListItems = dropdownList.querySelectorAll('.dropdown__list-item');
  // eslint-disable-next-line max-len
  const dropdownInput = dropdownWrapper.querySelector('.dropdown__input--hidden');

  dropdownButton.addEventListener('click', () => {
    dropdownList.classList.toggle('dropdown__list--active');
  });

  dropdownListItems.forEach(function(listItem) {
    listItem.addEventListener('click', function(e) {
      e.stopPropagation();
      dropdownButton.innerText = this.innerText;
      dropdownButton.style.color = '#fff';
      dropdownInput.value = this.dataset.value;
      priceValue.innerHTML = `${1200 * Number(this.dataset.value)}$`;
      dropdownList.classList.remove('dropdown__list--active');
    });
  });

  document.addEventListener('click', (e) => {
    if (e.target !== dropdownButton) {
      dropdownList.classList.remove('dropdown__list--active');
    }
  });

  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' || e.key === 'Tab') {
      dropdownList.classList.remove('dropdown__list--active');
    }
  });
});

const cardExpirartionDateInput = document.getElementById('expirationDatePay');

cardExpirartionDateInput.addEventListener('input', function() {
  if (this.value.length === 2 && !this.value.includes('/')) {
    this.value = `${this.value}/`;
  }
});

const textArea = document.querySelector('.form__textarea');
// eslint-disable-next-line max-len
const textAreaLabel = document.querySelector('.form__textarea-label');

textArea.addEventListener('focusin', () => {
  textAreaLabel.classList.add('form__textarea-label--active');
});

textArea.addEventListener('focusout', () => {
  textAreaLabel.classList.remove('form__textarea-label--active');
});

// eslint-disable-next-line max-len
document.querySelectorAll('.form__control').forEach(function(formWrapper) {
  const input = formWrapper.querySelector('.form__input');
  const label = formWrapper.querySelector('.form__label');

  if (input) {
    input.addEventListener('focusin', () => {
      label.classList.add('form__label--active');
    });

    input.addEventListener('focusout', () => {
      label.classList.remove('form__label--active');
    });
  };
});

const form = document.getElementById('formContact');
const formBuy = document.getElementById('formBuy');
const formPay = document.getElementById('formPay');

const tabs = document.querySelectorAll('.buy__tab');
const buyTabContentFirst = document.querySelector('.buy__tab-content--1');
const buyTabContentSecond = document.querySelector('.buy__tab-content--2');
const buyTabContentThird = document.querySelector('.buy__tab-content--3');

// eslint-disable-next-line max-len
const formContainerBuy = document.querySelector('.form__control-container--buy');
// eslint-disable-next-line max-len
const quantityContainer = document.querySelector('.buy__tab-content-quantity-container');
const finishButton = document.querySelector('.buy__tab-button--3');

form.addEventListener('submit', (event) => {
  event.preventDefault();

  form.reset();
});

formBuy.addEventListener('submit', (event) => {
  event.preventDefault();

  tabs[1].classList.add('buy__tab--active');
  formContainerBuy.style.display = 'none';
  buyTabContentSecond.classList.add('buy__tab-content--2-active');
  // eslint-disable-next-line max-len
  quantityContainer.classList.add('buy__tab-content-quantity-container--second-tab');
  buyTabContentFirst.classList.add('buy__tab-content--1-for-pay');
  formBuy.classList.add('buy__tab-content-form--1-second-tab');

  formBuy.reset();
});

formPay.addEventListener('submit', (event) => {
  event.preventDefault();

  buyTabContentSecond.classList.remove('buy__tab-content--2-active');
  buyTabContentFirst.classList.remove('buy__tab-content--1-for-pay');
  formBuy.classList.remove('buy__tab-content-form--1-second-tab');
  buyTabContentFirst.style.display = 'none';
  tabs[2].classList.add('buy__tab--active');
  buyTabContentThird.classList.add('buy__tab-content--3-active');

  formPay.reset();
});

finishButton.addEventListener('click', () => {
  tabs[1].classList.remove('buy__tab--active');
  tabs[2].classList.remove('buy__tab--active');

  formContainerBuy.style.display = 'grid';
  buyTabContentFirst.style.display = 'block';
  buyTabContentThird.classList.remove('buy__tab-content--3-active');

  formBuy.reset();
  formPay.reset();
});

import './sliderHeader.js';
import './sliderAbout.js';

import './video.js';
import './techButtons.js';
import './preventPageScroll.js';
import './modal.js';
import './accordion.js';
import './dropdown.js';
import './cardSystemSelect.js';
import './expirationDate.js';

import './formValidation.js';
import './formInputshover.js';
const accordionContent = document.querySelectorAll('.faq__accordion-content');

accordionContent.forEach((item, index) => {
  const header = item.querySelector('.faq__accordion-header');

  header.addEventListener('click', () => {
    item.classList.toggle('faq__accordion-content--active');

    const description = item.querySelector('.faq__accordion-description');

    if (item.classList.contains('faq__accordion-content--active')) {
      description.style.height = `${description.scrollHeight}px`;
      // eslint-disable-next-line max-len
      item.querySelector('.faq__accordion-svg').classList.add('faq__accordion-svg--active');
    } else {
      description.style.height = '0px';
      // eslint-disable-next-line max-len
      item.querySelector('.faq__accordion-svg').classList.remove('faq__accordion-svg--active');
    }

    removeOpen(index);
  });
});

function removeOpen(ind) {
  accordionContent.forEach((it, i) => {
    if (ind !== i) {
      it.classList.remove('faq__accordion-content--active');

      const desc = it.querySelector('.faq__accordion-description');

      desc.style.height = '0px';
      // eslint-disable-next-line max-len
      it.querySelector('.faq__accordion-svg').classList.remove('faq__accordion-svg--active');
    }
  });
}

const cardNumberPayFirstInput = document.getElementById('cardNumberPayFirst');
const cardNumberPayLastInput = document.getElementById('cardNumberPayFourth');
const cardNumberPayIndicator = document.querySelector('.form__card-indicator');

const cardNumberPayAllInputs = document.querySelectorAll('.form__input--card');
const cardNumberPayAllLabel = document.querySelector('.form__label--pay');

cardNumberPayFirstInput.addEventListener('focusout', () => {
  if (cardNumberPayFirstInput.value[0] === '3') {
    // eslint-disable-next-line max-len
    cardNumberPayIndicator.classList.add('form__card-indicator--american-express');

    cardNumberPayIndicator.classList.remove('form__card-indicator--visa');
    cardNumberPayIndicator.classList.remove('form__card-indicator--mastercard');
  }

  if (cardNumberPayFirstInput.value[0] === '4') {
    cardNumberPayIndicator.classList.add('form__card-indicator--visa');

    // eslint-disable-next-line max-len
    cardNumberPayIndicator.classList.remove('form__card-indicator--american-express');
    cardNumberPayIndicator.classList.remove('form__card-indicator--mastercard');
  }

  if (cardNumberPayFirstInput.value[0] === '5') {
    cardNumberPayIndicator.classList.add('form__card-indicator--mastercard');

    // eslint-disable-next-line max-len
    cardNumberPayIndicator.classList.remove('form__card-indicator--american-express');
    cardNumberPayIndicator.classList.remove('form__card-indicator--visa');
  }
});

cardNumberPayLastInput.addEventListener('focusout', () => {
  cardNumberPayAllLabel.classList.remove('form__label--active');
});

for (let i = 0; i < cardNumberPayAllInputs.length; i++) {
  cardNumberPayAllInputs[i].addEventListener('input', function() {
    if (this.value.length === 4) {
      const cardNumberPayNextInput = this.nextElementSibling;

      if (cardNumberPayNextInput !== null) {
        cardNumberPayNextInput.focus();
        cardNumberPayAllLabel.classList.add('form__label--active');
      }
    }
  });
}

const dropdownInputs = document.querySelectorAll('.dropdown__input');
const priceValue = document.querySelector('.buy__tab-quantity-price-value--1');

window.onload = (event) => {
  for (let i = 0; i < dropdownInputs.length; i++) {
    dropdownInputs[i].value = '';
  }
};

// eslint-disable-next-line max-len
document.querySelectorAll('.dropdown__container').forEach(function(dropdownWrapper) {
  const dropdownButton = dropdownWrapper.querySelector('.dropdown__button');
  const dropdownList = dropdownWrapper.querySelector('.dropdown__list');
  // eslint-disable-next-line max-len
  const dropdownListItems = dropdownList.querySelectorAll('.dropdown__list-item');
  // eslint-disable-next-line max-len
  const dropdownInput = dropdownWrapper.querySelector('.dropdown__input--hidden');

  dropdownButton.addEventListener('click', () => {
    dropdownList.classList.toggle('dropdown__list--active');
  });

  dropdownListItems.forEach(function(listItem) {
    listItem.addEventListener('click', function(e) {
      e.stopPropagation();
      dropdownButton.innerText = this.innerText;
      dropdownButton.style.color = '#fff';
      dropdownInput.value = this.dataset.value;
      priceValue.innerHTML = `${1200 * Number(this.dataset.value)}$`;
      dropdownList.classList.remove('dropdown__list--active');
    });
  });

  document.addEventListener('click', (e) => {
    if (e.target !== dropdownButton) {
      dropdownList.classList.remove('dropdown__list--active');
    }
  });

  document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape' || e.key === 'Tab') {
      dropdownList.classList.remove('dropdown__list--active');
    }
  });
});

const cardExpirartionDateInput = document.getElementById('expirationDatePay');

cardExpirartionDateInput.addEventListener('input', function() {
  if (this.value.length === 2 && !this.value.includes('/')) {
    this.value = `${this.value}/`;
  }
});

const textArea = document.querySelector('.form__textarea');
// eslint-disable-next-line max-len
const textAreaLabel = document.querySelector('.form__textarea-label');

textArea.addEventListener('focusin', () => {
  textAreaLabel.classList.add('form__textarea-label--active');
});

textArea.addEventListener('focusout', () => {
  textAreaLabel.classList.remove('form__textarea-label--active');
});

// eslint-disable-next-line max-len
document.querySelectorAll('.form__control').forEach(function(formWrapper) {
  const input = formWrapper.querySelector('.form__input');
  const label = formWrapper.querySelector('.form__label');

  if (input) {
    input.addEventListener('focusin', () => {
      label.classList.add('form__label--active');
    });

    input.addEventListener('focusout', () => {
      label.classList.remove('form__label--active');
    });
  };
});

const form = document.getElementById('formContact');
const formBuy = document.getElementById('formBuy');
const formPay = document.getElementById('formPay');

const tabs = document.querySelectorAll('.buy__tab');
const buyTabContentFirst = document.querySelector('.buy__tab-content--1');
const buyTabContentSecond = document.querySelector('.buy__tab-content--2');
const buyTabContentThird = document.querySelector('.buy__tab-content--3');

// eslint-disable-next-line max-len
const formContainerBuy = document.querySelector('.form__control-container--buy');
// eslint-disable-next-line max-len
const quantityContainer = document.querySelector('.buy__tab-content-quantity-container');
const finishButton = document.querySelector('.buy__tab-button--3');

form.addEventListener('submit', (event) => {
  event.preventDefault();

  form.reset();
});

formBuy.addEventListener('submit', (event) => {
  event.preventDefault();

  tabs[1].classList.add('buy__tab--active');
  formContainerBuy.style.display = 'none';
  buyTabContentSecond.classList.add('buy__tab-content--2-active');
  // eslint-disable-next-line max-len
  quantityContainer.classList.add('buy__tab-content-quantity-container--second-tab');
  buyTabContentFirst.classList.add('buy__tab-content--1-for-pay');
  formBuy.classList.add('buy__tab-content-form--1-second-tab');

  formBuy.reset();
});

formPay.addEventListener('submit', (event) => {
  event.preventDefault();

  buyTabContentSecond.classList.remove('buy__tab-content--2-active');
  buyTabContentFirst.classList.remove('buy__tab-content--1-for-pay');
  formBuy.classList.remove('buy__tab-content-form--1-second-tab');
  buyTabContentFirst.style.display = 'none';
  tabs[2].classList.add('buy__tab--active');
  buyTabContentThird.classList.add('buy__tab-content--3-active');

  formPay.reset();
});

finishButton.addEventListener('click', () => {
  tabs[1].classList.remove('buy__tab--active');
  tabs[2].classList.remove('buy__tab--active');

  formContainerBuy.style.display = 'grid';
  buyTabContentFirst.style.display = 'block';
  buyTabContentThird.classList.remove('buy__tab-content--3-active');

  formBuy.reset();
  formPay.reset();
});

import './sliderHeader.js';
import './sliderAbout.js';

import './video.js';
import './techButtons.js';
import './preventPageScroll.js';
import './modal.js';
import './accordion.js';
import './dropdown.js';
import './cardSystemSelect.js';
import './expirationDate.js';

import './formValidation.js';
import './formInputshover.js';
import './sliderHeader.js';
import './sliderAbout.js';

import './video.js';
import './techButtons.js';
import './preventPageScroll.js';
import './modal.js';
import './accordion.js';
import './dropdown.js';
import './cardSystemSelect.js';
import './expirationDate.js';

import './formValidation.js';
import './formInputshover.js';
const openModalButtons = document.querySelectorAll('[data-modal-target]');
const closeModalButtons = document.querySelectorAll('[data-modal]');
const overlay = document.getElementById('overlay');

const faqModal = document.getElementById('faq');
const faqModalLink = document.querySelector('.help__button-close');

const allModals = document.querySelectorAll('.modal');

openModalButtons.forEach(button => {
  button.addEventListener('click', () => {
    const modal = document.querySelector(button.dataset.modalTarget);

    openModal(modal);
  });
});

overlay.addEventListener('click', () => {
  const modals = document.querySelectorAll('.modal--active');

  modals.forEach(modal => {
    closeModal(modal);
  });
});

closeModalButtons.forEach(button => {
  button.addEventListener('click', () => {
    const modal = button.closest('.modal');

    closeModal(modal);
  });
});

function openModal(modal) {
  modal.classList.add('modal--active');
  overlay.classList.add('modal__overlay--active');
  document.body.classList.add('page__body--with-menu');
}

function closeModal(modal) {
  const iframe = document.querySelector('iframe');

  if (modal === null) {
    // eslint-disable-next-line no-useless-return
    return;
  } else {
    const link = modal.querySelector('.video__link');
    const button = modal.querySelector('.video__button');

    if (iframe) {
      iframe.outerHTML = '';
    }

    if (link) {
      link.style.display = 'block';
    }

    if (button) {
      button.style.display = 'block';
    }

    modal.classList.remove('modal--active');
    overlay.classList.remove('modal__overlay--active');
    document.body.classList.remove('page__body--with-menu');
  }
}

faqModalLink.addEventListener('click', () => {
  if (faqModal.classList.contains('modal--active')) {
    overlay.classList.add('modal__overlay--active');
  };
});

document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    for (let i = 0; i < allModals.length; i++) {
      if (allModals[i].classList.contains('modal--active')) {
        allModals[i].classList.remove('modal--active');
        overlay.classList.remove('modal__overlay--active');
      }
    }
  }
});

window.addEventListener('hashchange', () => {
  // eslint-disable-next-line no-mixed-operators,, max-len, no-multi-spaces
  if (window.location.hash === '#menu' && window.innerWidth < 1280  || window.location.hash === '#buy') {
    document.body.classList.add('page__body--with-menu');
  } else {
    document.body.classList.remove('page__body--with-menu');
  }
});

// eslint-disable-next-line no-new, no-undef
const aboutSlider = new Swiper('.about__slider', {
  effect: 'fade',

  pagination: {
    el: '.swiper-pagination',
    clickable: true,
  },

  scrollbar: {
    el: '.swiper-scrollbar',
    draggable: true,
  },

  navigation: {
    nextEl: '.about__slider-nav-buttons-next',
    prevEl: '.about__slider-nav-buttons-prev',
  },

  slidesPerView: 1,
  spaceBetween: 20,
  loop: true,
});

const sliderTotalSlides = document.querySelector('.about__slider-total');
const sliderCurrentSlide = document.querySelector('.about__slider-current');

sliderTotalSlides.innerHTML = aboutSlider.slides.length;

aboutSlider.on('slideChange', function() {
  // eslint-disable-next-line prefer-const
  let currentSlide = ++aboutSlider.realIndex;

  sliderCurrentSlide.innerHTML = currentSlide;
});

// eslint-disable-next-line no-new, no-undef
new Swiper('.header__slider-container', {
  loop: true,

  scrollbar: {
    el: '.header__slider-scrollbar',
    draggable: true,
  },

  navigation: {
    nextEl: '.header__slider-nav-button-next',
    prevEl: '.header__slider-nav-button-prev',
  },

  autoplay: {
    delay: 3000,
    disableOnInteraction: false,
  },
});

const btn = document.querySelectorAll('.tech__button');

const btnFirst = document.querySelector('.tech__button--1');
const btnFirstMsg = document.querySelector('.tech__button-message--1');

const btnSecond = document.querySelector('.tech__button--2');
const btnSecondMsg = document.querySelector('.tech__button-message--2');

const btnThird = document.querySelector('.tech__button--3');
const btnThirdMsg = document.querySelector('.tech__button-message--3');

btn.forEach(function(button) {
  button.addEventListener('click', function() {
    if (button.innerText === '-') {
      button.innerText = '+';
      button.classList.remove('tech__button--pressed');
    } else {
      button.innerText = '-';
      button.classList.add('tech__button--pressed');
    }
  });
});

btnFirst.addEventListener('click', () => {
  btnFirstMsg.classList.toggle('tech__button-message--visible');

  btnSecond.classList.remove('tech__button--pressed');
  btnSecondMsg.classList.remove('tech__button-message--visible');
  btnSecond.innerText = '+';

  btnThird.classList.remove('tech__button--pressed');
  btnThirdMsg.classList.remove('tech__button-message--visible');
  btnThird.innerText = '+';
});

btnSecond.addEventListener('click', () => {
  btnSecondMsg.classList.toggle('tech__button-message--visible');

  btnFirst.classList.remove('tech__button--pressed');
  btnFirstMsg.classList.remove('tech__button-message--visible');
  btnFirst.innerText = '+';

  btnThird.classList.remove('tech__button--pressed');
  btnThirdMsg.classList.remove('tech__button-message--visible');
  btnThird.innerText = '+';
});

btnThird.addEventListener('click', () => {
  btnThirdMsg.classList.toggle('tech__button-message--visible');

  btnFirst.classList.remove('tech__button--pressed');
  btnFirstMsg.classList.remove('tech__button-message--visible');
  btnFirst.innerText = '+';

  btnSecond.classList.remove('tech__button--pressed');
  btnSecondMsg.classList.remove('tech__button-message--visible');
  btnSecond.innerText = '+';
});

function findVideos() {
  const videos = document.querySelectorAll('.video');

  for (let i = 0; i < videos.length; i++) {
    setupVideo(videos[i]);
  }
}

function setupVideo(video) {
  const link = video.querySelector('.video__link');
  const media = video.querySelector('.video__media');
  const button = video.querySelector('.video__button');
  const id = parseMediaURL(media);

  video.addEventListener('click', () => {
    const iframe = createIframe(id);

    link.style.display = 'none';
    button.style.display = 'none';

    video.appendChild(iframe);
  });

  link.removeAttribute('href');
  video.classList.add('video--enabled');
}

function parseMediaURL(media) {
  // eslint-disable-next-line max-len
  const regexp = /https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/maxresdefault\.jpg/i;
  const url = media.src;
  const match = url.match(regexp);

  return match[1];
}

function createIframe(id) {
  const iframe = document.createElement('iframe');

  iframe.setAttribute('allowfullscreen', '');
  iframe.setAttribute('allow', 'autoplay');
  iframe.setAttribute('src', generateURL(id));
  iframe.classList.add('video__media');

  return iframe;
}

function generateURL(id) {
  const query = '?rel=0&showinfo=0&autoplay=1&enablejsapi=1';

  return 'https://www.youtube.com/embed/' + id + query;
}

findVideos();

const openModalButtons = document.querySelectorAll('[data-modal-target]');
const closeModalButtons = document.querySelectorAll('[data-modal]');
const overlay = document.getElementById('overlay');

const faqModal = document.getElementById('faq');
const faqModalLink = document.querySelector('.help__button-close');

const allModals = document.querySelectorAll('.modal');

openModalButtons.forEach(button => {
  button.addEventListener('click', () => {
    const modal = document.querySelector(button.dataset.modalTarget);

    openModal(modal);
  });
});

overlay.addEventListener('click', () => {
  const modals = document.querySelectorAll('.modal--active');

  modals.forEach(modal => {
    closeModal(modal);
  });
});

closeModalButtons.forEach(button => {
  button.addEventListener('click', () => {
    const modal = button.closest('.modal');

    closeModal(modal);
  });
});

function openModal(modal) {
  modal.classList.add('modal--active');
  overlay.classList.add('modal__overlay--active');
  document.body.classList.add('page__body--with-menu');
}

function closeModal(modal) {
  const iframe = document.querySelector('iframe');

  if (modal === null) {
    // eslint-disable-next-line no-useless-return
    return;
  } else {
    const link = modal.querySelector('.video__link');
    const button = modal.querySelector('.video__button');

    if (iframe) {
      iframe.outerHTML = '';
    }

    if (link) {
      link.style.display = 'block';
    }

    if (button) {
      button.style.display = 'block';
    }

    modal.classList.remove('modal--active');
    overlay.classList.remove('modal__overlay--active');
    document.body.classList.remove('page__body--with-menu');
  }
}

faqModalLink.addEventListener('click', () => {
  if (faqModal.classList.contains('modal--active')) {
    overlay.classList.add('modal__overlay--active');
  };
});

document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    for (let i = 0; i < allModals.length; i++) {
      if (allModals[i].classList.contains('modal--active')) {
        allModals[i].classList.remove('modal--active');
        overlay.classList.remove('modal__overlay--active');
      }
    }
  }
});

window.addEventListener('hashchange', () => {
  // eslint-disable-next-line no-mixed-operators,, max-len, no-multi-spaces
  if (window.location.hash === '#menu' && window.innerWidth < 1280  || window.location.hash === '#buy') {
    document.body.classList.add('page__body--with-menu');
  } else {
    document.body.classList.remove('page__body--with-menu');
  }
});

// eslint-disable-next-line no-new, no-undef
const aboutSlider = new Swiper('.about__slider', {
  effect: 'fade',

  pagination: {
    el: '.swiper-pagination',
    clickable: true,
  },

  scrollbar: {
    el: '.swiper-scrollbar',
    draggable: true,
  },

  navigation: {
    nextEl: '.about__slider-nav-buttons-next',
    prevEl: '.about__slider-nav-buttons-prev',
  },

  slidesPerView: 1,
  spaceBetween: 20,
  loop: true,
});

const sliderTotalSlides = document.querySelector('.about__slider-total');
const sliderCurrentSlide = document.querySelector('.about__slider-current');

sliderTotalSlides.innerHTML = aboutSlider.slides.length;

aboutSlider.on('slideChange', function() {
  // eslint-disable-next-line prefer-const
  let currentSlide = ++aboutSlider.realIndex;

  sliderCurrentSlide.innerHTML = currentSlide;
});

// eslint-disable-next-line no-new, no-undef
new Swiper('.header__slider-container', {
  loop: true,

  scrollbar: {
    el: '.header__slider-scrollbar',
    draggable: true,
  },

  navigation: {
    nextEl: '.header__slider-nav-button-next',
    prevEl: '.header__slider-nav-button-prev',
  },

  autoplay: {
    delay: 3000,
    disableOnInteraction: false,
  },
});

const btn = document.querySelectorAll('.tech__button');

const btnFirst = document.querySelector('.tech__button--1');
const btnFirstMsg = document.querySelector('.tech__button-message--1');

const btnSecond = document.querySelector('.tech__button--2');
const btnSecondMsg = document.querySelector('.tech__button-message--2');

const btnThird = document.querySelector('.tech__button--3');
const btnThirdMsg = document.querySelector('.tech__button-message--3');

btn.forEach(function(button) {
  button.addEventListener('click', function() {
    if (button.innerText === '-') {
      button.innerText = '+';
      button.classList.remove('tech__button--pressed');
    } else {
      button.innerText = '-';
      button.classList.add('tech__button--pressed');
    }
  });
});

btnFirst.addEventListener('click', () => {
  btnFirstMsg.classList.toggle('tech__button-message--visible');

  btnSecond.classList.remove('tech__button--pressed');
  btnSecondMsg.classList.remove('tech__button-message--visible');
  btnSecond.innerText = '+';

  btnThird.classList.remove('tech__button--pressed');
  btnThirdMsg.classList.remove('tech__button-message--visible');
  btnThird.innerText = '+';
});

btnSecond.addEventListener('click', () => {
  btnSecondMsg.classList.toggle('tech__button-message--visible');

  btnFirst.classList.remove('tech__button--pressed');
  btnFirstMsg.classList.remove('tech__button-message--visible');
  btnFirst.innerText = '+';

  btnThird.classList.remove('tech__button--pressed');
  btnThirdMsg.classList.remove('tech__button-message--visible');
  btnThird.innerText = '+';
});

btnThird.addEventListener('click', () => {
  btnThirdMsg.classList.toggle('tech__button-message--visible');

  btnFirst.classList.remove('tech__button--pressed');
  btnFirstMsg.classList.remove('tech__button-message--visible');
  btnFirst.innerText = '+';

  btnSecond.classList.remove('tech__button--pressed');
  btnSecondMsg.classList.remove('tech__button-message--visible');
  btnSecond.innerText = '+';
});

function findVideos() {
  const videos = document.querySelectorAll('.video');

  for (let i = 0; i < videos.length; i++) {
    setupVideo(videos[i]);
  }
}

function setupVideo(video) {
  const link = video.querySelector('.video__link');
  const media = video.querySelector('.video__media');
  const button = video.querySelector('.video__button');
  const id = parseMediaURL(media);

  video.addEventListener('click', () => {
    const iframe = createIframe(id);

    link.style.display = 'none';
    button.style.display = 'none';

    video.appendChild(iframe);
  });

  link.removeAttribute('href');
  video.classList.add('video--enabled');
}

function parseMediaURL(media) {
  // eslint-disable-next-line max-len
  const regexp = /https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/maxresdefault\.jpg/i;
  const url = media.src;
  const match = url.match(regexp);

  return match[1];
}

function createIframe(id) {
  const iframe = document.createElement('iframe');

  iframe.setAttribute('allowfullscreen', '');
  iframe.setAttribute('allow', 'autoplay');
  iframe.setAttribute('src', generateURL(id));
  iframe.classList.add('video__media');

  return iframe;
}

function generateURL(id) {
  const query = '?rel=0&showinfo=0&autoplay=1&enablejsapi=1';

  return 'https://www.youtube.com/embed/' + id + query;
}

findVideos();

const openModalButtons = document.querySelectorAll('[data-modal-target]');
const closeModalButtons = document.querySelectorAll('[data-modal]');
const overlay = document.getElementById('overlay');

const faqModal = document.getElementById('faq');
const faqModalLink = document.querySelector('.help__button-close');

const allModals = document.querySelectorAll('.modal');

openModalButtons.forEach(button => {
  button.addEventListener('click', () => {
    const modal = document.querySelector(button.dataset.modalTarget);

    openModal(modal);
  });
});

overlay.addEventListener('click', () => {
  const modals = document.querySelectorAll('.modal--active');

  modals.forEach(modal => {
    closeModal(modal);
  });
});

closeModalButtons.forEach(button => {
  button.addEventListener('click', () => {
    const modal = button.closest('.modal');

    closeModal(modal);
  });
});

function openModal(modal) {
  modal.classList.add('modal--active');
  overlay.classList.add('modal__overlay--active');
  document.body.classList.add('page__body--with-menu');
}

function closeModal(modal) {
  const iframe = document.querySelector('iframe');

  if (modal === null) {
    // eslint-disable-next-line no-useless-return
    return;
  } else {
    const link = modal.querySelector('.video__link');
    const button = modal.querySelector('.video__button');

    if (iframe) {
      iframe.outerHTML = '';
    }

    if (link) {
      link.style.display = 'block';
    }

    if (button) {
      button.style.display = 'block';
    }

    modal.classList.remove('modal--active');
    overlay.classList.remove('modal__overlay--active');
    document.body.classList.remove('page__body--with-menu');
  }
}

faqModalLink.addEventListener('click', () => {
  if (faqModal.classList.contains('modal--active')) {
    overlay.classList.add('modal__overlay--active');
  };
});

document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    for (let i = 0; i < allModals.length; i++) {
      if (allModals[i].classList.contains('modal--active')) {
        allModals[i].classList.remove('modal--active');
        overlay.classList.remove('modal__overlay--active');
      }
    }
  }
});

window.addEventListener('hashchange', () => {
  // eslint-disable-next-line no-mixed-operators,, max-len, no-multi-spaces
  if (window.location.hash === '#menu' && window.innerWidth < 1280  || window.location.hash === '#buy') {
    document.body.classList.add('page__body--with-menu');
  } else {
    document.body.classList.remove('page__body--with-menu');
  }
});

// eslint-disable-next-line no-new, no-undef
const aboutSlider = new Swiper('.about__slider', {
  effect: 'fade',

  pagination: {
    el: '.swiper-pagination',
    clickable: true,
  },

  scrollbar: {
    el: '.swiper-scrollbar',
    draggable: true,
  },

  navigation: {
    nextEl: '.about__slider-nav-buttons-next',
    prevEl: '.about__slider-nav-buttons-prev',
  },

  slidesPerView: 1,
  spaceBetween: 20,
  loop: true,
});

const sliderTotalSlides = document.querySelector('.about__slider-total');
const sliderCurrentSlide = document.querySelector('.about__slider-current');

sliderTotalSlides.innerHTML = aboutSlider.slides.length;

aboutSlider.on('slideChange', function() {
  // eslint-disable-next-line prefer-const
  let currentSlide = ++aboutSlider.realIndex;

  sliderCurrentSlide.innerHTML = currentSlide;
});

// eslint-disable-next-line no-new, no-undef
new Swiper('.header__slider-container', {
  loop: true,

  scrollbar: {
    el: '.header__slider-scrollbar',
    draggable: true,
  },

  navigation: {
    nextEl: '.header__slider-nav-button-next',
    prevEl: '.header__slider-nav-button-prev',
  },

  autoplay: {
    delay: 3000,
    disableOnInteraction: false,
  },
});

const btn = document.querySelectorAll('.tech__button');

const btnFirst = document.querySelector('.tech__button--1');
const btnFirstMsg = document.querySelector('.tech__button-message--1');

const btnSecond = document.querySelector('.tech__button--2');
const btnSecondMsg = document.querySelector('.tech__button-message--2');

const btnThird = document.querySelector('.tech__button--3');
const btnThirdMsg = document.querySelector('.tech__button-message--3');

btn.forEach(function(button) {
  button.addEventListener('click', function() {
    if (button.innerText === '-') {
      button.innerText = '+';
      button.classList.remove('tech__button--pressed');
    } else {
      button.innerText = '-';
      button.classList.add('tech__button--pressed');
    }
  });
});

btnFirst.addEventListener('click', () => {
  btnFirstMsg.classList.toggle('tech__button-message--visible');

  btnSecond.classList.remove('tech__button--pressed');
  btnSecondMsg.classList.remove('tech__button-message--visible');
  btnSecond.innerText = '+';

  btnThird.classList.remove('tech__button--pressed');
  btnThirdMsg.classList.remove('tech__button-message--visible');
  btnThird.innerText = '+';
});

btnSecond.addEventListener('click', () => {
  btnSecondMsg.classList.toggle('tech__button-message--visible');

  btnFirst.classList.remove('tech__button--pressed');
  btnFirstMsg.classList.remove('tech__button-message--visible');
  btnFirst.innerText = '+';

  btnThird.classList.remove('tech__button--pressed');
  btnThirdMsg.classList.remove('tech__button-message--visible');
  btnThird.innerText = '+';
});

btnThird.addEventListener('click', () => {
  btnThirdMsg.classList.toggle('tech__button-message--visible');

  btnFirst.classList.remove('tech__button--pressed');
  btnFirstMsg.classList.remove('tech__button-message--visible');
  btnFirst.innerText = '+';

  btnSecond.classList.remove('tech__button--pressed');
  btnSecondMsg.classList.remove('tech__button-message--visible');
  btnSecond.innerText = '+';
});

function findVideos() {
  const videos = document.querySelectorAll('.video');

  for (let i = 0; i < videos.length; i++) {
    setupVideo(videos[i]);
  }
}

function setupVideo(video) {
  const link = video.querySelector('.video__link');
  const media = video.querySelector('.video__media');
  const button = video.querySelector('.video__button');
  const id = parseMediaURL(media);

  video.addEventListener('click', () => {
    const iframe = createIframe(id);

    link.style.display = 'none';
    button.style.display = 'none';

    video.appendChild(iframe);
  });

  link.removeAttribute('href');
  video.classList.add('video--enabled');
}

function parseMediaURL(media) {
  // eslint-disable-next-line max-len
  const regexp = /https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/maxresdefault\.jpg/i;
  const url = media.src;
  const match = url.match(regexp);

  return match[1];
}

function createIframe(id) {
  const iframe = document.createElement('iframe');

  iframe.setAttribute('allowfullscreen', '');
  iframe.setAttribute('allow', 'autoplay');
  iframe.setAttribute('src', generateURL(id));
  iframe.classList.add('video__media');

  return iframe;
}

function generateURL(id) {
  const query = '?rel=0&showinfo=0&autoplay=1&enablejsapi=1';

  return 'https://www.youtube.com/embed/' + id + query;
}

findVideos();
